<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dashboard</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css">
<link rel="stylesheet" href="user.css">
</head>
<body>

<div class="d-flex">
  <!-- Sidebar -->
  <div class="sidebar">
    <ul class="nav nav-pills flex-column mb-auto">
      <li class="nav-item">
        <a href="index.html" class="nav-link"><i class="fa-regular fa-house"></i> Dashboard</a>
      </li>
      <li class="nav-item">
        <a href="user.html" class="nav-link active" ><i class="fa-solid fa-bolt"></i> User Input</a>
      </li>
      <li>
        <a href="predection.html" class="nav-link"><i class="fa-solid fa-arrow-trend-up"></i> Predictions</a>
      </li>
      <li>
        <a href="alerts.html" class="nav-link"><i class="fa-regular fa-bell"></i> Alerts</a>
      </li>
      <li>
        <a href="recommend.html" class="nav-link"><i class="fa-regular fa-lightbulb"></i> Recommendations</a>
      </li>
    </ul>
  </div>

  <!-- Content -->
  <div class="content-area">
    <h2>User Input</h2>
    <div class="content-area d-flex justify-content-center align-items-center" style="min-height: 80vh; padding: 40px;">
  <div class="card text-black " style="max-width: 700px; width: 100%; padding: 20px;">
    <div class="card-body">
      <h4>Provide Your Energy Data</h4>
      <p class="para">Help us analyze your energy consumption by providing details about your household and devices.</p>
      <form id="energyForm">
        <h5>Household Information</h5>
        <div class="mb-3">
            <label for="householdMembers" class="form-label">Number of Household Members</label>
            <input type="number" class="form-control" id="householdMembers" placeholder="e.g., 3">
        </div>

        <h5>Device Details</h5>
        <div class="mb-3">
            <label for="numDevices" class="form-label">Number of Devices</label>
            <input type="number" class="form-control" id="numDevices" placeholder="e.g., 1" min="1" value="1">
        </div>

        <!-- Container for dynamic device fields -->
        <div id="devicesContainer"></div>

        <h5>Consumption Data</h5>
        <div class="mb-3">
            <label for="householdMembers" class="form-label">Current Month Consumption (kWh)</label>
            <input type="number" class="form-control" id="householdMembers" placeholder="e.g., 250">
        </div>


        <!-- Buttons -->
        <div class="form-buttons">
        <button type="reset" class="btn btn-secondary">Reset</button>
        <button type="submit" class="btn btn-primary">Submit Data</button>
        </div>

  
      </form>
    </div>
  </div>
</div>

  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script>
const links = document.querySelectorAll('.nav-link');
links.forEach(link => {
    link.addEventListener('click', () => {
        links.forEach(l => l.classList.remove('active'));
        link.classList.add('active');
    });
});

const numDevicesInput = document.getElementById("numDevices");
const devicesContainer = document.getElementById("devicesContainer");

function generateDeviceFields(count) {
  devicesContainer.innerHTML = '';
  for(let i = 1; i <= count; i++) {
    const row = document.createElement('div');
    row.classList.add('row', 'mb-3', 'g-2');

    const col1 = document.createElement('div');
    col1.classList.add('col');
    col1.innerHTML = `
      <label class="form-label">Device ${i} Name</label>
      <input type="text" class="form-control" placeholder="e.g., Fridge">
    `;

    const col2 = document.createElement('div');
    col2.classList.add('col');
    col2.innerHTML = `
      <label class="form-label">Daily Usage Hours</label>
      <input type="number" class="form-control" placeholder="e.g., 5">
    `;

    row.appendChild(col1);
    row.appendChild(col2);
    devicesContainer.appendChild(row);
  }
}

// Initial device
generateDeviceFields(parseInt(numDevicesInput.value));

// Update dynamically
numDevicesInput.addEventListener("input", function() {
  const count = Math.min(Math.max(parseInt(this.value) || 1, 1), 10); // الحد الأقصى 10 أجهزة
  generateDeviceFields(count);
});

</script>

</body>
</html>
